<!DOCTYPE html>
<head>
	<meta charset="utf-8">
	<title>miniLock Unit Test Kit</title>
	<link rel="icon" type="image/png" href="../src/img/icon32.png" />
	<!-- QUnit -->
	<link rel="stylesheet" type="text/css" href="qunit/qunit.css">
	<script type="application/javascript" src="qunit/qunit.js"></script>
	<!-- Dependencies -->
	<script type="application/javascript" src="../src/js/lib/base58.js"></script>
	<script type="application/javascript" src="../src/js/lib/jquery/jquery.js"></script>
	<script type="application/javascript" src="../src/js/lib/crypto/nacl.js"></script>
	<script type="application/javascript" src="../src/js/lib/crypto/nacl-stream.js"></script>
	<script type="application/javascript" src="../src/js/lib/crypto/blake2s.js"></script>
	<script type="application/javascript" src="../src/js/lib/crypto/scrypt.js"></script>
	<script type="application/javascript" src="../src/js/lib/zxcvbn.js"></script>
	<script type="application/javascript" src="../src/js/miniLock.js"></script>
	<script type="application/javascript" src="../src/js/ui.js"></script>
	<script type="application/javascript" src="../src/js/lib/phrase.js"></script>
	<!-- Configuration -->
	<script type="application/javascript">
		QUnit.config.testTimeout = 10000
		QUnit.config.reorder = false

		miniLock.test = {}
	</script>
	<!-- Test file for encryption -->
	<script type="application/javascript" src="files/testFile.js"></script>
	<!-- Tests -->
    <script type="text/javascript">
        var log = [];
        var testName;

        QUnit.testStart(function (testDetails) {
          QUnit.log = function (details) {
            if (!details.result) {
              details.name = testDetails.name;
              log.push(details);
            }
          };
        });

        QUnit.done(function (test_results) {
          var tests = [];
          for (var i = 0, len = log.length; i < len; i++) {
            var details = log[i];
            tests.push({
              name: details.name,
              result: details.result,
              expected: details.expected,
              actual: details.actual,
              source: details.source
            });
          }
          test_results.tests = tests;

          window.global_test_results = test_results;
        });
      </script>
	<script type="application/javascript" src="tests/basic.js"></script>
	<script type="application/javascript" src="tests/getPhrase.js"></script>
	<script type="application/javascript" src="tests/checkPassphrase.js"></script>
	<script type="application/javascript" src="tests/deriveKey.js"></script>
	<script type="application/javascript" src="tests/validateID.js"></script>
	<script type="application/javascript" src="tests/getRandomFilename.js"></script>
	<script type="application/javascript" src="tests/getFileKey.js"></script>
	<script type="application/javascript" src="tests/getNonce.js"></script>
	<script type="application/javascript" src="tests/encryptDecryptFile.js"></script>
	<script type="application/javascript" src="tests/isFilenameSuspicious.js"></script>
	<script type="application/javascript" src="tests/UI.getBasenameAndExtensions.js"></script>
	<script type="application/javascript" src="tests/UI.summarizeRecipients.js"></script>
	<script type="application/javascript" src="tests/UI.readableFileSize.js"></script>
</head>
<body>
	<div id="qunit"></div>
	<div id="qunit-fixture"></div>
</body>
</html>
